(this["webpackJsonpgoit-react-hw-03-bank-account"]=this["webpackJsonpgoit-react-hw-03-bank-account"]||[]).push([[0],{107:function(t,e){},109:function(t,e){},145:function(t,e){},146:function(t,e){},194:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),r=a(21),o=a.n(r),s=a(54),i=a(32),u=a(33),l=a(35),m=a(34),p=a(36),h=a(53),b=a.n(h),d=a(26),f=(a(189),a(22)),_=a.n(f),y=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={inputValue:""},a.handleChangeInputValue=function(t){a.setState({inputValue:t.target.value})},a.handleSubmitDeposit=function(t){a.props.onSubmitDeposit(a.state.inputValue),a.setState({inputValue:""})},a.handleSubmitWithdraw=function(t){a.props.onSubmitWithdraw(a.state.inputValue),a.setState({inputValue:""})},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.state.inputValue;return c.a.createElement("section",{className:_.a.controls},c.a.createElement("input",{className:_.a.input,type:"number",name:"amount",value:t,onChange:this.handleChangeInputValue}),c.a.createElement("button",{className:_.a.button,type:"button",onClick:this.handleSubmitDeposit},"Deposit"),c.a.createElement("button",{className:_.a.button,type:"button",onClick:this.handleSubmitWithdraw},"Withdraw"))}}]),e}(n.Component),E=a(23),g=a.n(E),N=function(t){var e=t.balance,a=t.income,n=t.expenses;return c.a.createElement("section",{className:g.a.balance},c.a.createElement("span",{className:g.a.textIncome},a,"$"),c.a.createElement("span",{className:g.a.textExpenses},n,"$"),c.a.createElement("span",{className:g.a.text},"Balance: ",e,"$"))},v=a(24),w=a.n(v),x=function(t){var e=t.items;return c.a.createElement("table",{className:w.a.history},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Transaction"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Date"))),c.a.createElement("tbody",null,e.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{className:w.a.historyTd},t.type),c.a.createElement("td",{className:w.a.historyTd},t.inputValue,"$"),c.a.createElement("td",{className:w.a.historyTd},t.date))}))))},S=a(92),V=a.n(S);d.a.configure({autoClose:5e3,draggable:!1});var C=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={balance:0,transactions:[]},a.depositTransaction=function(t){if(t<=0)d.a.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!");else{var e={id:b.a.generate(),type:"Deposit",inputValue:t,date:(new Date).toLocaleString()};a.setState((function(t){return{transactions:[].concat(Object(s.a)(t.transactions),[e]),balance:Number(t.balance)+Number(e.inputValue)}}))}},a.withdrawTransaction=function(t){if(t<=0)d.a.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!");else if(t>a.state.balance)d.a.info("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!");else{var e={id:b.a.generate(),type:"Withdraw",inputValue:t,date:(new Date).toLocaleString()};a.setState((function(t){return{transactions:[].concat(Object(s.a)(t.transactions),[e]),balance:Number(t.balance)-Number(e.inputValue)}}))}},a.transactionsCounter=function(t,e){return t.filter((function(t){return t.type===e})).reduce((function(t,e){return Number(t)+Number(e.inputValue)}),0)},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=function(t){try{var e=localStorage.getItem("".concat(t));return e?JSON.parse(e):null}catch(a){console.log(a)}}("transactions");t&&this.setState({transactions:t})}},{key:"componentDidUpdate",value:function(t,e){var a=this.state.transactions;e.transactions!==a&&function(t,e){try{localStorage.setItem("".concat(t),JSON.stringify(e))}catch(a){console.log(a)}}("transactions",a)}},{key:"render",value:function(){var t=this.state,e=t.transactions,a=t.balance;return c.a.createElement("div",{className:V.a.dashboard},c.a.createElement(y,{onSubmitDeposit:this.depositTransaction,onSubmitWithdraw:this.withdrawTransaction}),c.a.createElement(N,{income:this.transactionsCounter(e,"Deposit"),expenses:this.transactionsCounter(e,"Withdraw"),balance:a}),c.a.createElement(x,{items:e}))}}]),e}(n.Component),O=function(){return c.a.createElement(C,null)};o.a.render(c.a.createElement(O,null),document.getElementById("root"))},22:function(t,e,a){t.exports={controls:"Controls_controls__23fEy",button:"Controls_button__INCNE",input:"Controls_input__22V2Z"}},23:function(t,e,a){t.exports={balance:"Balance_balance__3PDNa",text:"Balance_text__g6nwq",textIncome:"Balance_textIncome__2A79B Balance_text__g6nwq",textExpenses:"Balance_textExpenses__GiJ0g Balance_text__g6nwq"}},24:function(t,e,a){t.exports={history:"TransactionHistory_history__ms4PB",historyTd:"TransactionHistory_historyTd__3u3k5"}},92:function(t,e,a){},95:function(t,e,a){t.exports=a(194)}},[[95,1,2]]]);
//# sourceMappingURL=main.5345557d.chunk.js.map