{"version":3,"sources":["components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","servises/localStorage.js","components/App.js","index.js","components/Controls/Controls.module.css","components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css"],"names":["Controls","state","inputValue","handleChangeInputValue","e","setState","target","value","handleSubmitDeposit","props","onSubmitDeposit","handleSubmitWithdraw","onSubmitWithdraw","this","className","styles","controls","input","type","name","onChange","button","onClick","Component","Balance","balance","income","expenses","textIncome","textExpenses","text","TransactionHistory","items","history","map","item","key","id","historyTd","date","toast","configure","autoClose","draggable","Dashboard","transactions","depositTransaction","info","transaction","shortid","generate","Date","toLocaleString","Number","withdrawTransaction","transactionsCounter","billType","filter","el","reduce","acc","localStorage","getItem","JSON","parse","err","console","log","getLocalStorage","prevProps","prevState","setItem","stringify","saveLocalStorage","dashboard","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5345557d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './Controls.module.css';\n\nclass Controls extends Component {\n  static propTypes = {\n    onSubmitDeposit: T.func.isRequired,\n    onSubmitWithdraw: T.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChangeInputValue = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmitDeposit = e => {\n    \n    this.props.onSubmitDeposit(this.state.inputValue);\n    this.setState({\n      inputValue: '',\n    });\n  };\n\n  handleSubmitWithdraw = e => {\n    \n    this.props.onSubmitWithdraw(this.state.inputValue);\n    this.setState({\n      inputValue: '',\n    });\n  };\n\n  render() {\n    // const { onSubmit, withdrawTransaction } = this.props;\n    const { inputValue } = this.state;\n\n    return (\n      <section className={styles.controls}>\n        <input\n          className={styles.input}\n          type=\"number\"\n          name=\"amount\"\n          value={inputValue}\n          onChange={this.handleChangeInputValue}\n        />\n        <button\n          className={styles.button}\n          type=\"button\"\n          onClick={this.handleSubmitDeposit}\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.button}\n          type=\"button\"\n          onClick={this.handleSubmitWithdraw}\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n\nexport default Controls;\n","import React from 'react';\nimport T from 'prop-types';\n\nimport styles from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => {\n  return (\n    <section className={styles.balance}>\n      <span className={styles.textIncome}>{income}$</span>\n      <span className={styles.textExpenses}>{expenses}$</span>\n\n      <span className={styles.text}>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  balance: T.number.isRequired,\n  income: T.number.isRequired,\n  expenses: T.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => {\n  return (\n    <table className={styles.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items.map(item => (\n          <tr key={item.id}>\n            <td className={styles.historyTd}>{item.type}</td>\n            <td className={styles.historyTd}>{item.inputValue}$</td>\n            <td className={styles.historyTd}>{item.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  items: T.arrayOf(T.shape).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortid from 'short-id';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport styles from './Dashboard.module.css';\nimport { saveLocalStorage, getLocalStorage } from '../../servises/localStorage';\n\ntoast.configure({\n  autoClose: 5000,\n  draggable: false,\n});\n\nexport default class Dashboard extends Component {\n  state = {\n    balance: 0,\n    transactions: [],\n  };\n\n  componentDidMount() {\n    const transactions = getLocalStorage('transactions');\n\n    if (!transactions) return;\n\n    this.setState({ transactions });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions } = this.state;\n\n    if (prevState.transactions === transactions) return;\n\n    saveLocalStorage('transactions', transactions);\n  }\n\n  depositTransaction = inputValue => {\n    if (inputValue <= 0) {\n      toast.info('Введите сумму для проведения операции!');\n      return;\n    }\n\n    const transaction = {\n      id: shortid.generate(),\n      type: 'Deposit',\n      inputValue,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(state => ({\n      transactions: [...state.transactions, transaction],\n      balance: Number(state.balance) + Number(transaction.inputValue),\n    }));\n  };\n\n  withdrawTransaction = inputValue => {\n    if (inputValue <= 0) {\n      toast.info('Введите сумму для проведения операции!');\n      return;\n    }\n    if (inputValue > this.state.balance) {\n      toast.info('На счету недостаточно средств для проведения операции!');\n      return;\n    }\n\n    const transaction = {\n      id: shortid.generate(),\n      type: 'Withdraw',\n      inputValue,\n      date: new Date().toLocaleString(),\n    };\n\n    this.setState(state => ({\n      transactions: [...state.transactions, transaction],\n      balance: Number(state.balance) - Number(transaction.inputValue),\n    }));\n  };\n\n  transactionsCounter = (transactions, billType) => {\n    const filterByType = transactions.filter(el => el.type === billType);\n    const total = filterByType.reduce(\n      (acc, value) => Number(acc) + Number(value.inputValue),\n      0,\n    );\n\n    return total;\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        {/* <!-- Разметка компонента <Controls> --> */}\n        <Controls\n          onSubmitDeposit={this.depositTransaction}\n          onSubmitWithdraw={this.withdrawTransaction}\n        />\n\n        {/* <!-- Разметка компонента <Balance> --> */}\n        <Balance\n          income={this.transactionsCounter(transactions, 'Deposit')}\n          expenses={this.transactionsCounter(transactions, 'Withdraw')}\n          balance={balance}\n        />\n\n        {/* <!-- Разметка компонента <TransactionHistory> --> */}\n        <TransactionHistory items={transactions} />\n        {/* {transactions.lenght > 0 && <TransactionHistory items={transactions} />} */}\n      </div>\n    );\n  }\n}\n","export const saveLocalStorage = (key, value) => {\n  try {\n    localStorage.setItem(`${key}`, JSON.stringify(value));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getLocalStorage = key => {\n  try {\n    const transactions = localStorage.getItem(`${key}`);\n\n    return transactions ? JSON.parse(transactions) : null;\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import React from 'react';\n\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => <Dashboard />;\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__23fEy\",\"button\":\"Controls_button__INCNE\",\"input\":\"Controls_input__22V2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__3PDNa\",\"text\":\"Balance_text__g6nwq\",\"textIncome\":\"Balance_textIncome__2A79B Balance_text__g6nwq\",\"textExpenses\":\"Balance_textExpenses__GiJ0g Balance_text__g6nwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__ms4PB\",\"historyTd\":\"TransactionHistory_historyTd__3u3k5\"};"],"sourceRoot":""}